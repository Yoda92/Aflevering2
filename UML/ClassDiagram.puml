@startuml
hide circle
skinparam classAttributeIconSize 0

interface IDoor <<interface>> {
    + DoorStateChangedEvent: event
    + SetDoorLocked(locked: boolean): void
}

class Door {
    + DoorStateChangedEvent: event
    + SetDoorState(open: bool): void
    + SetDoorLocked(locked: boolean): void
    - OnDoorStateChanged(\n  e: DoorStateEventArgs): void
}

class DoorStateEventArgs {
    + Open: bool
}

interface IRFIDReader <<interface>>{
    + RFIDReadEvent: event
}

class RFIDReader {
    + RFIDReadEvent: event
    + ReadRFID(int: ID): void
    - OnRFIDRead(\n  e: RFIDReadEventArgs): void
}

class RFIDReadEventArgs {
    + ID: int
}

class StationControl {
    - _oldID: int
    - _state: LadeskabState
    - HandleDoorStateChanged(\n  s: Object\n  e: DoorStateEventArgs)
    - HandleRFIDRead(\n  s: Object\n  e: DoorStateEventArgs)
    - CheckID(newID: int): bool
}

enum LadeskabState <<enum>>{
    Available
    DoorOpen
    Locked
}

interface IUSBCharger <<interface>>{
    + CurrentValueEvent: event
    + PhoneConnectionEvent: event
    + StartCharge(): void
    + StopCharge(): void
}

class CurrentValueEventArgs {
    + Current: double
}

class PhoneConnectionEventArgs {
    + Connected: bool
}

class USBCharger {
    + CurrentValueEvent: event
    + PhoneConnectionEvent: event
    + StartCharge(): void
    + StopCharge(): void
    - OnCurrentValueChanged(\n  e: CurrentValueEventArgs): void
    - OnPhoneConnectionChanged(\n  e: PhoneConnectionEventArgs): void
}

interface IChargeControl <<interface>>{
    +/- IsConnected: bool
    + StartCharge(): void
    + StopCharge(): void
}

class ChargeControl {
    +/- IsConnected: bool
    + StartCharge(): void
    + StopCharge(): void
    - HandleCurrentValueChanged(\n  s: Object\n  e: CurrentValueEventArgs)
    - HandlePhoneConnectionChanged(\n  s: Object\n  e: PhoneConnectionEventArgs)
}

interface IDisplay <<interface>>{
    + DisplayUserInstructions(s: string): void
    + DisplayChargingMessage(s: string): void
}

class Display {
    + DisplayUserInstructions(s: string): void
    + DisplayChargingMessage(s: string): void
}

interface ILogFile <<interface>>{
    + LogDoorLocked(ID: int)
    + LogDoorUnlocked(ID: int)
}

class LogFile {
    + LogDoorLocked(ID: int)
    + LogDoorUnlocked(ID: int)
}


Door .up.|> IDoor
StationControl --> IDoor
RFIDReader .up.|> IRFIDReader
RFIDReader ..> RFIDReadEventArgs
IRFIDReader ..> RFIDReadEventArgs
StationControl ..> IRFIDReader
USBCharger .up.|> IUSBCharger
USBCharger ..> CurrentValueEventArgs
IUSBCharger ..> CurrentValueEventArgs
USBCharger ..> PhoneConnectionEventArgs
IUSBCharger ..> PhoneConnectionEventArgs
ChargeControl ..> IUSBCharger
StationControl --> IChargeControl
ChargeControl .up.|> IChargeControl
LogFile .up.|> ILogFile
StationControl --> ILogFile
Display .up.|> IDisplay
StationControl --> IDisplay
ChargeControl --> IDisplay 
StationControl --> LadeskabState
StationControl ..> RFIDReadEventArgs
StationControl ..> DoorStateEventArgs
IDoor ..> DoorStateEventArgs
Door ..> DoorStateEventArgs
ChargeControl ..> CurrentValueEventArgs
ChargeControl ..> PhoneConnectionEventArgs
@enduml